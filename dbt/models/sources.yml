version: 2

sources:
  - name: RAW
    database: "PAAS_DATA_INGESTION_{{ env_var('STAGE', 'big').upper() }}"
    tables:
      - name: LOGS
        description: Original table containing all the RAW logs generated by all the internal services
        columns:
          - name: service_id
            description: Internal service that produced the log
          - name: request_id
            description: Unique identifier (UUID) of the request
          - name: request_timestamp
            description: Timestamp (UTC) when the request has been processed
          - name: response_id
            description: Unique identifier (UUID) of the response
          - name: response_timestamp
            description: Timestamp (UTC) when the response has been sent to the requester
          - name: client_id
            description: Unique identifier (UUID) of the visitor's
          - name: data
            description: Raw logs including the execution context, the full request & response payload
          - name: log_id
            description: Unique identifier (UUID) of the internal log
          - name: log_filename
            description: Path of the original file containing the log
          - name: log_file_row_number
            description: Number of the row where the llog is stored on the file
          - name: log_timestamp
            description: Timestamp (UTC) when the log has been processed
    quoting:
      database: false
      schema: false
      identifier: false
